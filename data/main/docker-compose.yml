name: "mittel"

services:
  users:
    image: "grazen/mittel-users:latest"
    env_file: "users.env"
    ports:
      - "4000:4000"
    restart: "always"

  articles:
    image: "grazen/mittel-articles:latest"
    env_file: "articles.env"
    ports:
      - "3000:3000"
    restart: "always"

  engagement:
    image: "grazen/mittel-engagement:latest"
    env_file: "engagement.env"
    ports:
      - "8080:8080"
    restart: "always"

  discovery:
    image: "grazen/mittel-discovery:latest"
    env_file: "discovery.env"
    ports:
      - "8000:80"
    restart: "always"

  analyst:
    image: "grazen/mittel-analyst:latest"
    env_file: "analyst.env"
    ports:
      - "8001:80"
    restart: "always"
    volumes:
      - "~/.aws/credentials:/root/.aws/credentials"

volumes:
  users_data:
  articles_data:
  engagement_data:
